{% extends 'grocery/base.html' %}
{% load static %}

{% block content %}
<!-- Masthead -->
<header class="masthead">
    <div class="container h-10">
        <div class="row h-50 align-items-center justify-content-center text-center">
            <div class="col-lg-10 align-self-end">
              <h1 class="text-lowercase text-white font-weight-bold">{{product_name}}</h1>
              <img src="{{ product_image }}" alt="{{product_name}}" class='img-responsive'>
              <img src="{{ product_nutrient }}" alt="Répères nutrionnels pour 100g" class='img-responsive'>
              <p style="color: ghostwhite">Nutrigrade: {{ product_nutrigrade }}</p>
              <a style="color: ghostwhite" href="{{ product_url }}">En savoir plus</a>
              <hr class="divider my-4">
            </div>            
          </div>
        </div>
</header>

<!-- Services Section -->
<section class="page-section" id="services">
    <div class="container">
        <h2 class="text-center mt-0">Vous pouvez remplacer cet aliment par:</h2>
        <hr class="divider my-4">
        
        <div class="row">
        {% if sub_list|length_is:"0" %}
            <div class="text-center">
                <h3 class="text-center mt-0">Aucun substitut avec un meilleur nutrigrade, cet aliment est bon pour la santé !</h3>
            </div>
        {% else %}
            {% for substitute in sub_list %}
            <div class="col-lg-4 col-md-6 text-center">
                <div class="mt-5"> 
                    <a href="{% url 'detail' substitute_id=substitute.id %}">
                        <img class="sr-icons img-about"  src="{{ substitute.image }}" alt="">
                    </a>                    
                    <h3 class="h4 mb-2">{{ substitute.name }}</h3>
                    <p style="color: rgb(20, 20, 20)">Nutrigrade: {{ substitute.nutrigrade }}</p>
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input" id="exampleCheck1">
                        <label class="form-check-label" for="exampleCheck1">sauvegarder</label>
                    </div>
                    <a style="color: rgb(20, 20, 20)" href="{{ substitute.url }}">En savoir plus</a>
                </div>
            </div>
            {% if forloop.counter|divisibleby:3 %}<div class="clearfix"></div>{% endif %}
            {% endfor %}
        {% endif %}                 
        </div>                                                  
    </div>
</section>
{% if paginate %}
<div class="row h-50 align-items-center justify-content-center text-center">
  <div class="clearfix"></div>
    <nav aria-label="">
        <ul class="pager">
        {% if sub_list.has_previous %}
            <li><a href="?page={{ sub_list.previous_page_number }}&txtSearch={{ text }}">Précédent</a></li>
        {% endif %}
        {% if sub_list.has_next %}
            <li><a href="?page={{ sub_list.next_page_number }}&txtSearch={{ text }}">Suivant</a></li>
        {% endif %}
        </ul>
    </nav>
    </div>
</div>
{% endif %}

{% endblock %}